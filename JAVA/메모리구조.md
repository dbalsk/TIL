# **메모리 구조**
자바 프로그램은 JVM(자바 가상 머신)에 의해 실행된다. 자바 프로그램 실행 시, JVM은 운영 체제로부터 필요한 메모리를 할당받고 용도에 따라 영역으로 구분한다. 
  
## 메모리 영역
>3가지의 메모리 영역을 변수의 측면과 메모리의 측면에서 살펴보자.
</br>

**✔ Static 영역(class 영역)**   
**전역변수**(필드에서 선언된 변수)와 **정적 멤버변수**(Static 변수)를 저장한다.    
프로그램 종료까지 메모리가 남아있게 되고 그렇기에 프로그램 어디서든 사용이 가능하다. 메모리, 안정성 측면에서 무분별한 사용을 지양해야 한다. (필자가 수강했던 객체지향 프로그래밍 수업의 교수님은 이 점을 항상 강조하셨다.)   
</br>

**✔ Stack 영역**   
메소드 호출 시, 메소드 호출과 관계되는 지역변수와 매개변수를 저장한다. (**기본자료형 변수의 값**과 **참조자료형 변수의 참조값**(주소)을 할당)    
메소드의 호출과 함께 할당되며 메소드 호출이 완료되면 소멸한다.
>+자료형   
>**기본 자료형** - 실제 데이터값 저장   
>ex) int, long, float, double, char, byte, boolean, short   
>**참조 자료형** - 데이터가 저장된 메모리 주소 저장   
>ex) 배열, 클래스, 인터페이스, String ...      
</br>

**✔ Heap 영역**   
**인스턴스 변수**(참조 자료형 변수가 가리키는 실제 데이터)를 저장한다. new 키워드를 통해 객체가 생성되면 해당 인스턴스 정보가 heap 영역에 저장된다.    
메모리는 동적으로(낮은 주소에서 높은 주소의 방향)으로 할당된다.     
</br>

## 배열의 선언/생성 시 메모리 구조
>배열 객체의 선언 및 생성을 분석하여 메모리 구조를 파악해보자.
</br>    

    int[] a = new int[3]
int 자료형 3개를 넣을 공간을 (**int[3]**) / heap 메모리에 넣어두고 (**new**) / 어디에 넣었는지를 참조형 자료형 변수 a에 저장하라. (**a =**)

![메모리](https://github.com/dbalsk/TIL/blob/main/pic/memory.png)
</br>

## 참고자료
[TCP-메모리구조](https://www.tcpschool.com/java/java_array_memory)   
[cosmic dust](https://gaone.tistory.com/32)
